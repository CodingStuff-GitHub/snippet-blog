---
title: "Segment Tree"
date: "2024-05-31"
description: "Segment Tree is used to find min and max in the range of an array in O(log n) time"
language: "python"
categories: ["python", "Segment Tree"]
---
```python
class SegmentTree:
    def __init__(self, arr) -> None:
        self.n = len(arr)
        self.arr = arr
        self.tree = [float("inf")] * (4 * len(arr))
        # Segment array size is max to 4 * n
        self.createMin(self.arr, 0, self.n - 1, 0)

    def createMin(self, arr, left, right, index):
        if left == right:
            self.tree[index] = arr[left]
            return
        mid = (left + right) // 2
        l = 2 * index + 1
        r = 2 * index + 2
        self.createMin(arr, left, mid, l)
        self.createMin(arr, mid + 1, right, r)
        self.tree[index] = min(self.tree[l], self.tree[r])

    def getMin(self, start, end):
        def findMin(range_l, range_r, curr_l, curr_r, index):
            # Total overlap
            if curr_l >= range_l and curr_r <= range_r:
                return self.tree[index]
            # No Overlap
            if curr_l >= range_r or curr_r <= range_l:
                return float("inf")
            # Partial Overlap
            mid = (curr_l + curr_r) // 2
            l = 2 * index + 1
            r = 2 * index + 2
            left_side = findMin(range_l, range_r, curr_l, mid, l)
            right_side = findMin(range_l, range_r, mid + 1, curr_r, r)
            return min(left_side, right_side)

        return findMin(start, end, 0, self.n - 1, 0)


segmentTree = SegmentTree([-1, 4, 3, 0, 1, 2])
print(segmentTree.tree)
print(segmentTree.getMin(1, 2))
```